# üìù –ò–ù–°–¢–†–£–ö–¶–ò–Ø: –ö–∞–∫ –ü—Ä–∏–º–µ–Ω–∏—Ç—å RLS –ü–æ–ª–∏—Ç–∏–∫–∏ –≤ Supabase

## üéØ –¶–µ–ª—å
–î–æ–±–∞–≤–∏—Ç—å Row Level Security –ø–æ–ª–∏—Ç–∏–∫–∏, —á—Ç–æ–±—ã —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö.

## ‚è±Ô∏è –í—Ä–µ–º—è: 5 –º–∏–Ω—É—Ç

## üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (–ü–æ—à–∞–≥–æ–≤–æ)

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Console
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://app.supabase.com
2. –í–≤–µ–¥–∏—Ç–µ email –∏ –ø–∞—Ä–æ–ª—å
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç "Yurie-fanclub"

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor
1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–π–¥–∏—Ç–µ **"SQL Editor"** (–∏–∫–æ–Ω–∫–∞ SQL)
2. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –Ω–µ–µ
3. –í—ã —É–≤–∏–¥–∏—Ç–µ –æ–∫–Ω–æ —Å —Ç—Ä–µ–º—è –∫–æ–ª–æ–Ω–∫–∞–º–∏

### –®–∞–≥ 3: –°–æ–∑–¥–∞–π—Ç–µ –ù–æ–≤—ã–π SQL Query
1. –ù–∞–∂–º–∏—Ç–µ **"+ New Query"** (–∑–µ–ª—ë–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –≤ –ª–µ–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É)
2. –í—ã –≤–∏–¥–∏—Ç–µ –ø—É—Å—Ç–æ–π SQL —Ä–µ–¥–∞–∫—Ç–æ—Ä

### –®–∞–≥ 4: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ RLS –ü–æ–ª–∏—Ç–∏–∫–∏
1. –ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –æ—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª **RLS_POLICIES.sql**
2. –í—ã–¥–µ–ª–∏—Ç–µ **–í–°–ï** —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ (Ctrl+A)
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ (Ctrl+C)
4. –í Supabase SQL Editor –≤—Å—Ç–∞–≤—å—Ç–µ (Ctrl+V)

### –®–∞–≥ 5: –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –ö–æ–º–∞–Ω–¥—ã
1. –í –≤–µ—Ä—Ö–Ω–µ–º –ø—Ä–∞–≤–æ–º —É–≥–ª—É –Ω–∞–∂–º–∏—Ç–µ –±–æ–ª—å—à—É—é –∫–Ω–æ–ø–∫—É **"RUN"** (–∏–ª–∏ Cmd+Enter)
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-10 —Å–µ–∫—É–Ω–¥
3. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –∑–µ–ª—ë–Ω—É—é –≥–∞–ª–æ—á–∫—É ‚úÖ –≤–Ω–∏–∑—É (success)

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¢–∞–±–ª–∏—Ü—ã
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"Table Editor"** (–ª–µ–≤–æ–µ –º–µ–Ω—é)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—ã:
   - `posts` - –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞—â–∏—â–µ–Ω–∞
   - `gallery` - –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞—â–∏—â–µ–Ω–∞
   - `comments` - –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞—â–∏—â–µ–Ω–∞
   - `newsletter_subscribers` - –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞—â–∏—â–µ–Ω–∞

3. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–∞–∂–¥—É—é —Ç–∞–±–ª–∏—Ü—É
4. –í –≤–µ—Ä—Ö–Ω–µ–º –º–µ–Ω—é –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å **"RLS"** —Å —Å—Ç–∞—Ç—É—Å–æ–º **"ON"**

## ‚úÖ –ö–∞–∫ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –í—Å—ë –†–∞–±–æ—Ç–∞–µ—Ç

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ Supabase UI
1. Table Editor
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É (–Ω–∞–ø—Ä–∏–º–µ—Ä `posts`)
3. –í–≤–µ—Ä—Ö—É –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: **"RLS" ‚Üí "ON"** (–∑–µ–ª—ë–Ω—ã–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å)

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ SQL Query
–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É:
```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞ –ª–∏ RLS –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü—ã
SELECT tablename, rowsecurity
FROM pg_tables
WHERE tablename IN ('posts', 'gallery', 'comments', 'newsletter_subscribers');
```

–û–∂–∏–¥–∞–Ω–∏–µ: –≤—Å–µ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å `rowsecurity = true`

## üö® –ï–°–õ–ò –í–û–ó–ù–ò–ö–õ–ê –û–®–ò–ë–ö–ê

### –û—à–∏–±–∫–∞: "policy already exists"
**–†–µ—à–µ–Ω–∏–µ**: –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ
```sql
DROP POLICY IF EXISTS "Allow public to read posts" ON posts;
DROP POLICY IF EXISTS "Allow admin to insert posts" ON posts;
-- ... –∏ —Ç–∞–∫ –¥–ª—è –≤—Å–µ—Ö
```

### –û—à–∏–±–∫–∞: "table does not exist"
**–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã –≤ Supabase
1. Table Editor
2. –í—ã –¥–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å: posts, gallery, comments, newsletter_subscribers

### –û—à–∏–±–∫–∞: "permission denied"
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∫–ª—é—á –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

## üìö –ß—Ç–æ –ü—Ä–æ–∏–∑–æ–π–¥—ë—Ç –ü–æ—Å–ª–µ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏—è

‚úÖ **–ü—É–±–ª–∏—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç:**
- –ß–∏—Ç–∞—Ç—å –ø–æ—Å—Ç—ã ‚úÖ
- –ß–∏—Ç–∞—Ç—å –≥–∞–ª–µ—Ä–µ—é ‚úÖ
- –ß–∏—Ç–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ ‚úÖ
- –ß–∏—Ç–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ ‚úÖ
- –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Ä–∞—Å—Å—ã–ª–∫—É ‚úÖ

‚ùå **–ü—É–±–ª–∏—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ù–ï –º–æ–≥—É—Ç:**
- –°–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ—Å—Ç—ã ‚ùå
- –£–¥–∞–ª—è—Ç—å –ø–æ—Å—Ç—ã ‚ùå
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å—Ç—ã ‚ùå
- –î–æ–±–∞–≤–ª—è—Ç—å –≤ –≥–∞–ª–µ—Ä–µ—é ‚ùå
- –£–¥–∞–ª—è—Ç—å –∏–∑ –≥–∞–ª–µ—Ä–µ–∏ ‚ùå
- –£–¥–∞–ª—è—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ ‚ùå
- –£–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º–∏ ‚ùå

‚úÖ **–¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (cleopatrathequeenofcats@gmail.com) –º–æ–∂–µ—Ç:**
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏! ‚úÖ

## üí° –°–û–í–ï–¢

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è RLS –ø–æ–ª–∏—Ç–∏–∫:
1. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏: `/admin/blog`
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø–æ—Å—Ç
3. –ï—Å–ª–∏ –ø–æ—Å—Ç —Å–æ–∑–¥–∞–Ω = –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ

## üîç –ß–ê–°–¢–´–ï –í–û–ü–†–û–°–´

### Q: –ù—É–∂–Ω–æ –ª–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –ø–æ–ª–∏—Ç–∏–∫–∏?
**A**: –ù–µ—Ç, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–¥–∏–Ω —Ä–∞–∑. –û–Ω–∏ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ–≥–¥–∞.

### Q: –ß—Ç–æ –µ—Å–ª–∏ —è –¥–æ–ø—É—â—É –æ—à–∏–±–∫—É –≤ SQL?
**A**: –ù–∏—á–µ–≥–æ —Å—Ç—Ä–∞—à–Ω–æ–≥–æ, –ø—Ä–æ—Å—Ç–æ —É–¥–∞–ª–∏—Ç–µ –ø–æ–ª–∏—Ç–∏–∫—É –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ.

### Q: –ù—É–∂–Ω–æ –ª–∏ –≤—ã–∫–ª—é—á–∞—Ç—å RLS –ø–µ—Ä–µ–¥ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º?
**A**: –ù–µ—Ç, RLS –æ—Å—Ç–∞–Ω—É—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–º–∏. –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤—Å—Ç—É–ø—è—Ç –≤ —Å–∏–ª—É —Å—Ä–∞–∑—É.

### Q: –ß—Ç–æ –µ—Å–ª–∏ –º–Ω–µ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –µ—â—ë –æ–¥–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞?
**A**: –ò–∑–º–µ–Ω–∏—Ç–µ `'cleopatrathequeenofcats@gmail.com'` –Ω–∞ –Ω–æ–≤—ã–π email –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ RLS –ø–æ–ª–∏—Ç–∏–∫–∏.

## ‚ú® –ì–û–¢–û–í–û!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö —à–∞–≥–æ–≤ –≤–∞—à–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—â–∏—â–µ–Ω–∞! üéâ

---
**–≠—Ç–æ –∑–∞–π–º—ë—Ç –º–∞–∫—Å–∏–º—É–º 5 –º–∏–Ω—É—Ç!**
